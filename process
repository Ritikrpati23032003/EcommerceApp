# EcommerceApp

#!/bin/bash
sudo yum update -y
sudo yum install docker -y
sudo systemctl start docker
sudo systemctl enable docker
sudo mkdir -p /usr/local/lib/docker/cli-plugins
sudo curl -SL https://github.com/docker/compose/releases/download/v2.27.0/docker-compose-linux-x86_64 \
-o /usr/local/lib/docker/cli-plugins/docker-compose
sudo chmod +x /usr/local/lib/docker/cli-plugins/docker-compose
sudo usermod -aG docker $USER
newgrp docker


#------Frontend & Seller configuration--------#

cd frontend

vi .env
VITE_API_URL=http://<publicIp>:4500

#--------Backend Configuration--------#

STRIPE_SECRET_KEY is the password that allows your backend to talk to Stripe‚Äôs bank.
How To create:
1. Go to Stripe 
üëâ https://dashboard.stripe.com/

2. Switch to Test mode
Top-right corner ‚Üí turn ON ‚ÄúTest mode‚Äù üü¢

3. Open API Keys
   Developers ‚Üí API keys
   Copy Secret Key (start from sk..)
   ex-  sk_test_

copy key paste in your local

#------------JWT-KEy---------------#
JWT_SECRET is used to lock and unlock user identity.
Stripe key = money permission
JWT key = login permission

For create a JWT KEY Run:---

openssl rand -hex 32

o/p:-5889......
copy it

#-----Backend-----#
vi .env

JWT_SECRET=<jwt key>				          #paste your jwt key 
JWT_REFRESH_SECRET=another_random_value
STRIPE_SECRET_KEY=<paste Sk-key>  		# paste Your sk-key

FRONTEND_URLS=http://54.226.153.201:5173,http://54.226.153.201:5174   #<---change ur PublicIP---->

cd Backend>> config 
change publicIp-->your IP


TO RUN:- Docker Compose

docker compose build
docker compose up -d
or
docker compose up -d --build     #to build run all

To delete docker
docker rm -f $(docker ps -aq)
docker rmi -f $(docker images -aq)
docker volume rm $(docker volume ls -q)


check key--

docker exec -it backend sh
echo $STRIPE_SECRET_KEY



Frontend (User App)	http://<publicIP>:5173    Customer website
Seller App	        http://<publicIP>:5174    Seller dashboard
Backend API	        http://<publicIP>:4500    REST APIs
Mongo Express	      http://<publicIP>:8081    MongoDB admin UI
MongoDB	            <publicIP>:27017	        Database (NOT for browser)



------------------Eks-PROCESS------------------
curl -o kubectl https://amazon-eks.s3.us-west-2.amazonaws.com/1.19.6/2021-01-05/bin/linux/amd64/kubectl
   chmod +x ./kubectl
   mv ./kubectl /usr/local/bin 
   kubectl version --short --client


aws eks update-kubeconfig --region us-east-1 --name kuber










